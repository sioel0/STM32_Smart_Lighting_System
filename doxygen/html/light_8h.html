<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Lighting System: Drivers/Custom/Lights/Include/light.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Smart Lighting System<span id="projectnumber">&#160;1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_60925fc218da8ca7908795bf5f624060.html">Drivers</a></li><li class="navelem"><a class="el" href="dir_335af46371d8de76bdc30e9f2c0bdf05.html">Custom</a></li><li class="navelem"><a class="el" href="dir_732c56f97f8ceb090294ef80f05530c8.html">Lights</a></li><li class="navelem"><a class="el" href="dir_12f4eb4dd532a07ca3ad64d9a12167cb.html">Include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">light.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file contains all the needed high level function for light module interaction.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="light__i2c_8h_source.html">light_i2c.h</a>&quot;</code><br />
</div>
<p><a href="light_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6407f0377f38a7667ff981c5b9647053" id="r_a6407f0377f38a7667ff981c5b9647053"><td class="memItemLeft" align="right" valign="top"><a id="a6407f0377f38a7667ff981c5b9647053" name="a6407f0377f38a7667ff981c5b9647053"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_LIGHT_INTENSITY</b>&#160;&#160;&#160;100 /** Default light intensity value */</td></tr>
<tr class="separator:a6407f0377f38a7667ff981c5b9647053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20d67b90cabe2c0429654913a18dd034" id="r_a20d67b90cabe2c0429654913a18dd034"><td class="memItemLeft" align="right" valign="top"><a id="a20d67b90cabe2c0429654913a18dd034" name="a20d67b90cabe2c0429654913a18dd034"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_LIGHT_INTENSITY</b>&#160;&#160;&#160;255 /** Maximum light intensity value */</td></tr>
<tr class="separator:a20d67b90cabe2c0429654913a18dd034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203ad2f855690b455db9b2a636f107a4" id="r_a203ad2f855690b455db9b2a636f107a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a203ad2f855690b455db9b2a636f107a4">light_set_current_intensity</a>(i)&#160;&#160;&#160;<a class="el" href="#ad91ac381ab3650d08417e772fb5e22c4">light_set_intensity</a>(MATRIX_FRAME1, i)</td></tr>
<tr class="memdesc:a203ad2f855690b455db9b2a636f107a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set current intensity of frame 1.  <br /></td></tr>
<tr class="separator:a203ad2f855690b455db9b2a636f107a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2dfafb7428ae16053766342efd96f5ff" id="r_a2dfafb7428ae16053766342efd96f5ff"><td class="memItemLeft" align="right" valign="top"><a id="a2dfafb7428ae16053766342efd96f5ff" name="a2dfafb7428ae16053766342efd96f5ff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>light_power_on</b> ()</td></tr>
<tr class="memdesc:a2dfafb7428ae16053766342efd96f5ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn light on via SHUTDOWN_REGISTER. <br /></td></tr>
<tr class="separator:a2dfafb7428ae16053766342efd96f5ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d6773fa098443cfd7d617ea42baac8" id="r_af7d6773fa098443cfd7d617ea42baac8"><td class="memItemLeft" align="right" valign="top"><a id="af7d6773fa098443cfd7d617ea42baac8" name="af7d6773fa098443cfd7d617ea42baac8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>light_shutdown</b> ()</td></tr>
<tr class="memdesc:af7d6773fa098443cfd7d617ea42baac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn light off via SHUTDOWN_REGISTER. <br /></td></tr>
<tr class="separator:af7d6773fa098443cfd7d617ea42baac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6ea3e5a5cc6bb0d5dd2036806d008c5" id="r_af6ea3e5a5cc6bb0d5dd2036806d008c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6ea3e5a5cc6bb0d5dd2036806d008c5">light_default_state</a> (uint8_t intensity)</td></tr>
<tr class="memdesc:af6ea3e5a5cc6bb0d5dd2036806d008c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn light on in picture mode with a given light intensity.  <br /></td></tr>
<tr class="separator:af6ea3e5a5cc6bb0d5dd2036806d008c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5748eed7739cc435105ae2678c6cf87b" id="r_a5748eed7739cc435105ae2678c6cf87b"><td class="memItemLeft" align="right" valign="top"><a id="a5748eed7739cc435105ae2678c6cf87b" name="a5748eed7739cc435105ae2678c6cf87b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>light_init</b> ()</td></tr>
<tr class="memdesc:a5748eed7739cc435105ae2678c6cf87b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise light module settings up all the frames. <br /></td></tr>
<tr class="separator:a5748eed7739cc435105ae2678c6cf87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac841ba5611c3b93ffa2dcadd3a5e477" id="r_aac841ba5611c3b93ffa2dcadd3a5e477"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac841ba5611c3b93ffa2dcadd3a5e477">light_turn_on_frame</a> (uint8_t frame)</td></tr>
<tr class="memdesc:aac841ba5611c3b93ffa2dcadd3a5e477"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns on all the LEDs of a given frame.  <br /></td></tr>
<tr class="separator:aac841ba5611c3b93ffa2dcadd3a5e477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3976022e47d4028d58faa0b3b2d8fc3" id="r_ab3976022e47d4028d58faa0b3b2d8fc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3976022e47d4028d58faa0b3b2d8fc3">light_turn_off_frame</a> (uint8_t frame)</td></tr>
<tr class="memdesc:ab3976022e47d4028d58faa0b3b2d8fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns off all the LEDs of a given frame.  <br /></td></tr>
<tr class="separator:ab3976022e47d4028d58faa0b3b2d8fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91ac381ab3650d08417e772fb5e22c4" id="r_ad91ac381ab3650d08417e772fb5e22c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad91ac381ab3650d08417e772fb5e22c4">light_set_intensity</a> (uint8_t frame, uint8_t intensity)</td></tr>
<tr class="memdesc:ad91ac381ab3650d08417e772fb5e22c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set light intensity of the given frame.  <br /></td></tr>
<tr class="separator:ad91ac381ab3650d08417e772fb5e22c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91550b3731168b305b89816b01cc0837" id="r_a91550b3731168b305b89816b01cc0837"><td class="memItemLeft" align="right" valign="top"><a id="a91550b3731168b305b89816b01cc0837" name="a91550b3731168b305b89816b01cc0837"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>light_transition_to_max</b> ()</td></tr>
<tr class="memdesc:a91550b3731168b305b89816b01cc0837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates a smooth transition to max intensity level. <br /></td></tr>
<tr class="separator:a91550b3731168b305b89816b01cc0837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67471f7b563f096a6b009a038c35903e" id="r_a67471f7b563f096a6b009a038c35903e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67471f7b563f096a6b009a038c35903e">light_is_on</a> ()</td></tr>
<tr class="memdesc:a67471f7b563f096a6b009a038c35903e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yells if the light module is currently working or not.  <br /></td></tr>
<tr class="separator:a67471f7b563f096a6b009a038c35903e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afefdbaea49a77f42f18fef8b7e4c65ab" id="r_afefdbaea49a77f42f18fef8b7e4c65ab"><td class="memItemLeft" align="right" valign="top"><a id="afefdbaea49a77f42f18fef8b7e4c65ab" name="afefdbaea49a77f42f18fef8b7e4c65ab"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>light_activate</b> ()</td></tr>
<tr class="memdesc:afefdbaea49a77f42f18fef8b7e4c65ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activates the component that make the light module work correctly. <br /></td></tr>
<tr class="separator:afefdbaea49a77f42f18fef8b7e4c65ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad912d6aa52455721447fae1993b444cf" id="r_ad912d6aa52455721447fae1993b444cf"><td class="memItemLeft" align="right" valign="top"><a id="ad912d6aa52455721447fae1993b444cf" name="ad912d6aa52455721447fae1993b444cf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>light_deactivate</b> ()</td></tr>
<tr class="memdesc:ad912d6aa52455721447fae1993b444cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the component that make the light module work correctly. <br /></td></tr>
<tr class="separator:ad912d6aa52455721447fae1993b444cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7d0079e37ddb668f12df344e48d2ac" id="r_aef7d0079e37ddb668f12df344e48d2ac"><td class="memItemLeft" align="right" valign="top"><a id="aef7d0079e37ddb668f12df344e48d2ac" name="aef7d0079e37ddb668f12df344e48d2ac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>light_level_check</b> ()</td></tr>
<tr class="memdesc:aef7d0079e37ddb668f12df344e48d2ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers the ambient light level check. <br /></td></tr>
<tr class="separator:aef7d0079e37ddb668f12df344e48d2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39865aff4c0ac7425e20433803a25b15" id="r_a39865aff4c0ac7425e20433803a25b15"><td class="memItemLeft" align="right" valign="top"><a id="a39865aff4c0ac7425e20433803a25b15" name="a39865aff4c0ac7425e20433803a25b15"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>light_main</b> ()</td></tr>
<tr class="memdesc:a39865aff4c0ac7425e20433803a25b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main cycle of the light module This function is the one that takes care of the normal operation of the light module it coordinates all the operations linked to the device sensors to make the light react to external data. <br /></td></tr>
<tr class="separator:a39865aff4c0ac7425e20433803a25b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains all the needed high level function for light module interaction. </p>
<dl class="section author"><dt>Author</dt><dd>sioel0 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a203ad2f855690b455db9b2a636f107a4" name="a203ad2f855690b455db9b2a636f107a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a203ad2f855690b455db9b2a636f107a4">&#9670;&#160;</a></span>light_set_current_intensity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define light_set_current_intensity</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">i</span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="#ad91ac381ab3650d08417e772fb5e22c4">light_set_intensity</a>(MATRIX_FRAME1, i)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set current intensity of frame 1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>light intensity, it can be any value in [0-255] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="af6ea3e5a5cc6bb0d5dd2036806d008c5" name="af6ea3e5a5cc6bb0d5dd2036806d008c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6ea3e5a5cc6bb0d5dd2036806d008c5">&#9670;&#160;</a></span>light_default_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void light_default_state </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>intensity</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn light on in picture mode with a given light intensity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">intensity</td><td>the desired light intensity level </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a67471f7b563f096a6b009a038c35903e" name="a67471f7b563f096a6b009a038c35903e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67471f7b563f096a6b009a038c35903e">&#9670;&#160;</a></span>light_is_on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t light_is_on </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Yells if the light module is currently working or not. </p>
<dl class="section return"><dt>Returns</dt><dd>1 if the module light is working 0 otherwise </dd></dl>

</div>
</div>
<a id="ad91ac381ab3650d08417e772fb5e22c4" name="ad91ac381ab3650d08417e772fb5e22c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91ac381ab3650d08417e772fb5e22c4">&#9670;&#160;</a></span>light_set_intensity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void light_set_intensity </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>frame</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>intensity</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set light intensity of the given frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the selected frame </td></tr>
    <tr><td class="paramname">intensity</td><td>intensity level, it can be any value in [0-255] </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3976022e47d4028d58faa0b3b2d8fc3" name="ab3976022e47d4028d58faa0b3b2d8fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3976022e47d4028d58faa0b3b2d8fc3">&#9670;&#160;</a></span>light_turn_off_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void light_turn_off_frame </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>frame</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turns off all the LEDs of a given frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the frame to deactivate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aac841ba5611c3b93ffa2dcadd3a5e477" name="aac841ba5611c3b93ffa2dcadd3a5e477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac841ba5611c3b93ffa2dcadd3a5e477">&#9670;&#160;</a></span>light_turn_on_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void light_turn_on_frame </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>frame</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turns on all the LEDs of a given frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frame</td><td>the frame to activate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
